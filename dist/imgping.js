!function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var e={};return t.m=n,t.c=e,t.i=function(n){return n},t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=4)}([function(n,t,e){"use strict";function r(n){var t=new o(o._61);return t._81=1,t._65=n,t}var o=e(2);n.exports=o;var i=r(!0),u=r(!1),c=r(null),f=r(void 0),a=r(0),l=r("");o.resolve=function(n){if(n instanceof o)return n;if(null===n)return c;if(void 0===n)return f;if(n===!0)return i;if(n===!1)return u;if(0===n)return a;if(""===n)return l;if("object"==typeof n||"function"==typeof n)try{var t=n.then;if("function"==typeof t)return new o(t.bind(n))}catch(n){return new o(function(t,e){e(n)})}return r(n)},o.all=function(n){var t=Array.prototype.slice.call(n);return new o(function(n,e){function r(u,c){if(c&&("object"==typeof c||"function"==typeof c)){if(c instanceof o&&c.then===o.prototype.then){for(;3===c._81;)c=c._65;return 1===c._81?r(u,c._65):(2===c._81&&e(c._65),void c.then(function(n){r(u,n)},e))}var f=c.then;if("function"==typeof f)return void new o(f.bind(c)).then(function(n){r(u,n)},e)}t[u]=c,0===--i&&n(t)}if(0===t.length)return n([]);for(var i=t.length,u=0;u<t.length;u++)r(u,t[u])})},o.reject=function(n){return new o(function(t,e){e(n)})},o.race=function(n){return new o(function(t,e){n.forEach(function(n){o.resolve(n).then(t,e)})})},o.prototype.catch=function(n){return this.then(null,n)}},function(n,t,e){"use strict";(function(t){function e(n){c.length||(u(),f=!0),c[c.length]=n}function r(){for(;a<c.length;){var n=a;if(a+=1,c[n].call(),a>l){for(var t=0,e=c.length-a;t<e;t++)c[t]=c[t+a];c.length-=a,a=0}}c.length=0,a=0,f=!1}function o(n){var t=1,e=new h(n),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function i(n){return function(){function t(){clearTimeout(e),clearInterval(r),n()}var e=setTimeout(t,0),r=setInterval(t,50)}}n.exports=e;var u,c=[],f=!1,a=0,l=1024,s=void 0!==t?t:self,h=s.MutationObserver||s.WebKitMutationObserver;u="function"==typeof h?o(r):i(r),e.requestFlush=u,e.makeRequestCallFromTimer=i}).call(t,e(3))},function(n,t,e){"use strict";function r(){}function o(n){try{return n.then}catch(n){return d=n,m}}function i(n,t){try{return n(t)}catch(n){return d=n,m}}function u(n,t,e){try{n(t,e)}catch(n){return d=n,m}}function c(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,n!==r&&_(n,this)}function f(n,t,e){return new n.constructor(function(o,i){var u=new c(r);u.then(o,i),a(n,new v(t,e,u))})}function a(n,t){for(;3===n._81;)n=n._65;if(c._10&&c._10(n),0===n._81)return 0===n._45?(n._45=1,void(n._54=t)):1===n._45?(n._45=2,void(n._54=[n._54,t])):void n._54.push(t);l(n,t)}function l(n,t){y(function(){var e=1===n._81?t.onFulfilled:t.onRejected;if(null===e)return void(1===n._81?s(t.promise,n._65):h(t.promise,n._65));var r=i(e,n._65);r===m?h(t.promise,d):s(t.promise,r)})}function s(n,t){if(t===n)return h(n,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var e=o(t);if(e===m)return h(n,d);if(e===n.then&&t instanceof c)return n._81=3,n._65=t,void p(n);if("function"==typeof e)return void _(e.bind(t),n)}n._81=1,n._65=t,p(n)}function h(n,t){n._81=2,n._65=t,c._97&&c._97(n,t),p(n)}function p(n){if(1===n._45&&(a(n,n._54),n._54=null),2===n._45){for(var t=0;t<n._54.length;t++)a(n,n._54[t]);n._54=null}}function v(n,t,e){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=e}function _(n,t){var e=!1,r=u(n,function(n){e||(e=!0,s(t,n))},function(n){e||(e=!0,h(t,n))});e||r!==m||(e=!0,h(t,d))}var y=e(1),d=null,m={};n.exports=c,c._10=null,c._97=null,c._61=r,c.prototype.then=function(n,t){if(this.constructor!==c)return f(this,n,t);var e=new c(r);return a(this,new v(n,t,e)),e}},function(n,t){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(e=window)}n.exports=e},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},u=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),c=e(0),f=r(c),a=function(){function n(){o(this,n),this._timeout=3e3}return u(n,[{key:"_getLocation",value:function(n){var t=document.createElement("a");return t.href=n,t}},{key:"_isImageOk",value:function(n){return!n.complete&&void 0===n.naturalWidth&&0!==n.naturalWidth}},{key:"_pingPromise",value:function(n){var t=this;return new f.default(function(e,r){var o=(new Date).getTime(),i=function(){var e=t._getLocation(n);return{imageSrc:n,protocol:e.protocol,hash:e.hash,host:e.host,hostname:e.hostname,pathname:e.pathname,port:e.port,responseTime:(new Date).getTime()-o}},u=setTimeout(function(){return r(i())},t._timeout),c=function(n){clearTimeout(u),n(i())},f=new Image;f.onload=function(){return c(t._isImageOk?e:r)},f.onerror=function(){return c(r)},f.src=n+"?t="+o})}},{key:"_pingFinally",value:function(n){var t=this;return new f.default(function(e){t._pingPromise(n).then(function(n){return e(i({},n,{success:!0}))}).catch(function(n){return console.log(n)&&e(i({},n,{responseTime:t._timeout,success:!1}))})})}},{key:"img",value:function(n){return this._pingPromise(n)}},{key:"imgs",value:function(n){var t=this;return f.default.all(n.map(function(n){return t._pingFinally(n)}))}},{key:"race",value:function(n){var t=this,e=[];return new f.default(function(r,o){n.forEach(function(i){return t._pingFinally(i).then(function(t){return t.success?r(t):(e.push(t),e.length===n.length?o(e):void 0)})})})}},{key:"timeout",set:function(n){"number"==typeof n&&n>0?this._timeout=n:console.error("[tackpings] Please set a valid number larger than 0.")}}]),n}(),l=new a;window.ping=l,t.default=l}]);